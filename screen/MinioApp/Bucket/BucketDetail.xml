<?xml version="1.0" encoding="UTF-8"?>
<screen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/xml-screen-3.xsd"
        require-authentication="true"  standalone="true">

    <parameter name="bucketId" required="true"/>

    <transition name="fileExplorer">
        <default-response url="../FileExplorer/ElFinder"/>
    </transition>

    <actions>
        <set field="userId" from="ec.user.userId"/>
        <service-call name="minio.MinioServices.get#Bucket" in-map="[bucketId:bucketId, userId:userId]" out-map="bucketInfo"/>
    </actions>

    <widgets>
        <container-box>
            <box-header title="${ec.l10n.localize('Bucket Details')}: ${bucketInfo.bucketName}"/>
            <box-toolbar>
                <link url="../Bucket/FindBucket" text="${ec.l10n.localize('Back to List')}" btn-type="default" icon="fa fa-arrow-left"/>
                <link url="fileExplorer" text="${ec.l10n.localize('File Explorer')}" btn-type="primary" icon="fa fa-folder-open">
                    <parameter name="bucketName" from="bucketInfo.bucketName"/>
                </link>
            </box-toolbar>
            <box-body>
                <form-single name="BucketDetails" map="bucketInfo" skip-form="true">
                    <field name="bucketId"><default-field title="${ec.l10n.localize('Bucket ID')}"><display/></default-field></field>
                    <field name="bucketName"><default-field title="${ec.l10n.localize('Bucket Name')}"><display/></default-field></field>
                    <field name="description"><default-field title="${ec.l10n.localize('Description')}"><display/></default-field></field>
                    <field name="quotaLimit"><default-field title="${ec.l10n.localize('Quota Limit (Bytes)')}"><display/></default-field></field>
                    <field name="isPublic"><default-field title="${ec.l10n.localize('Public Access')}"><display/></default-field></field>
                    <field name="versioning"><default-field title="${ec.l10n.localize('Versioning')}"><display/></default-field></field>
                    <field name="encryption"><default-field title="${ec.l10n.localize('Encryption')}"><display/></default-field></field>
                    <field name="createdDate"><default-field title="${ec.l10n.localize('Created Date')}"><display format="yyyy-MM-dd HH:mm:ss"/></default-field></field>
                </form-single>
            </box-body>
        </container-box>
    </widgets>
</screen>
